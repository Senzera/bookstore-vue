{"ast":null,"code":"import { mapGetters, mapActions } from 'vuex';\nexport default {\n  name: 'LoginPage',\n  data() {\n    return {\n      valid: true,\n      email: 'henny@example.org',\n      emailRules: [v => !!v || 'E-mail is required', v => /([a-zA-Z0-9_]{1,})(@)([a-zA-Z0-9_]{2,}).([a-zA-Z0-9_]{2,})+/.test(v) || 'E-mail must be valid'],\n      showPassword: false,\n      password: '',\n      passwordRules: [v => !!v || 'password required.', v => v && v.length >= 6 || 'Min 6 Characters']\n    };\n  },\n  computed: {\n    ...mapGetters({\n      user: 'auth/user'\n    })\n  },\n  methods: {\n    ...mapActions({\n      setAlert: 'alert/set',\n      setStatusDialog: 'dialog/setStatus',\n      setAuth: 'auth/set'\n    }),\n    close() {\n      this.setStatusDialog(false);\n    },\n    submit() {\n      if (this.$refs.form.validate()) {\n        let formData = {\n          email: this.email,\n          password: this.password\n        };\n        this.axios.post('/login', formData).then(response => {\n          let data_user = response.data.data;\n          this.setAuth(data_user);\n          if (this.user.id > 0) {\n            this.setAlert({\n              status: true,\n              text: 'Login Success',\n              type: 'success'\n            });\n            this.setStatusDialog(false);\n          } else {\n            this.setAlert({\n              status: true,\n              text: 'Login Error',\n              type: 'error'\n            });\n          }\n        }).catch(error => {\n          let response = error.response;\n          this.setAlert({\n            status: true,\n            text: response.data.message,\n            type: 'error'\n          });\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","mapActions","name","data","valid","email","emailRules","v","test","showPassword","password","passwordRules","length","computed","user","methods","setAlert","setStatusDialog","setAuth","close","submit","$refs","form","validate","formData","axios","post","then","response","data_user","id","status","text","type","catch","error","message"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\r\n    <v-card>\r\n        <v-toolbar dark color=\"primary\">\r\n            <v-btn icon dark @click=\"close\">\r\n                <v-icon>close</v-icon>\r\n            </v-btn>\r\n            <v-toolbar-title>Login and Start Shopping!</v-toolbar-title>\r\n        </v-toolbar>\r\n        <v-divider></v-divider>\r\n        <v-container fluid>\r\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n                <v-text-field v-model=\"email\" :rules=\"emailRules\" label=\"E-mail\" required append-icon=\"email\"></v-text-field>\r\n                <v-text-field v-model=\"password\" :append-icon=\"showPassword ? 'visibility' : 'visibility_off'\" :rules\r\n                =\"passwordRules\" :type=\"showPassword ? 'text' : 'password'\" label=\"Password\" hint=\"At least 6\r\n                charaacters\" counter @click:append=\"showPassword = !showPassword\"></v-text-field>\r\n                <div class=\"text-xs-center\">\r\n                    <v-btn color=\"accent lighten-1\" :disabled=\"!valid\" @click=\"submit\">\r\n                        Login\r\n                        <v-icon right dark>lock_open</v-icon>\r\n                    </v-btn>\r\n                </div>\r\n            </v-form>\r\n        </v-container>\r\n    </v-card>\r\n</template>\r\n\r\n<script>\r\n    import { mapGetters, mapActions } from 'vuex'\r\n    export default {\r\n        name: 'LoginPage',\r\n        data() {\r\n            return {\r\n                valid: true,\r\n                email: 'henny@example.org',\r\n                emailRules: [\r\n  v => !!v || 'E-mail is required',\r\n  v => /([a-zA-Z0-9_]{1,})(@)([a-zA-Z0-9_]{2,}).([a-zA-Z0-9_]{2,})+/.test(v) || 'E-mail must be valid'\r\n],\r\n\r\n                showPassword: false,\r\n                password: '',\r\n                passwordRules: [\r\n                    v => !!v || 'password required.',\r\n                    v => (v && v.length >= 6) || 'Min 6 Characters',\r\n                ],\r\n            }\r\n        },\r\n        computed: {\r\n      ...mapGetters({\r\n        user: 'auth/user',\r\n      }),\r\n    },\r\n    methods: {\r\n      ...mapActions({\r\n        setAlert: 'alert/set',\r\n        setStatusDialog: 'dialog/setStatus',\r\n        setAuth: 'auth/set',\r\n      }),\r\n      close() {\r\n        this.setStatusDialog(false);\r\n      },\r\n      submit() {\r\n        if (this.$refs.form.validate()) {\r\n          let formData = {\r\n            email: this.email,\r\n            password: this.password,\r\n          };\r\n          this.axios\r\n            .post('/login', formData)\r\n            .then((response) => {\r\n              let data_user = response.data.data;\r\n              this.setAuth(data_user);\r\n              if (this.user.id > 0) {\r\n                this.setAlert({\r\n                  status: true,\r\n                  text: 'Login Success',\r\n                  type: 'success',\r\n                });\r\n                this.setStatusDialog(false);\r\n              } else {\r\n                this.setAlert({\r\n                  status: true,\r\n                  text: 'Login Error',\r\n                  type: 'error',\r\n                });\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              let response = error.response;\r\n              this.setAlert({\r\n                status: true,\r\n                text: response.data.message,\r\n                type: 'error',\r\n              });\r\n            });\r\n        }\r\n      },\r\n    },\r\n  };\r\n</script>"],"mappings":"AA2BA,SAAAA,UAAA,EAAAC,UAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,KAAA;MACAC,UAAA,GACAC,CAAA,MAAAA,CAAA,0BACAA,CAAA,kEAAAC,IAAA,CAAAD,CAAA,4BACA;MAEAE,YAAA;MACAC,QAAA;MACAC,aAAA,GACAJ,CAAA,MAAAA,CAAA,0BACAA,CAAA,IAAAA,CAAA,IAAAA,CAAA,CAAAK,MAAA;IAEA;EACA;EACAC,QAAA;IACA,GAAAb,UAAA;MACAc,IAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAd,UAAA;MACAe,QAAA;MACAC,eAAA;MACAC,OAAA;IACA;IACAC,MAAA;MACA,KAAAF,eAAA;IACA;IACAG,OAAA;MACA,SAAAC,KAAA,CAAAC,IAAA,CAAAC,QAAA;QACA,IAAAC,QAAA;UACAnB,KAAA,OAAAA,KAAA;UACAK,QAAA,OAAAA;QACA;QACA,KAAAe,KAAA,CACAC,IAAA,WAAAF,QAAA,EACAG,IAAA,CAAAC,QAAA;UACA,IAAAC,SAAA,GAAAD,QAAA,CAAAzB,IAAA,CAAAA,IAAA;UACA,KAAAe,OAAA,CAAAW,SAAA;UACA,SAAAf,IAAA,CAAAgB,EAAA;YACA,KAAAd,QAAA;cACAe,MAAA;cACAC,IAAA;cACAC,IAAA;YACA;YACA,KAAAhB,eAAA;UACA;YACA,KAAAD,QAAA;cACAe,MAAA;cACAC,IAAA;cACAC,IAAA;YACA;UACA;QACA,GACAC,KAAA,CAAAC,KAAA;UACA,IAAAP,QAAA,GAAAO,KAAA,CAAAP,QAAA;UACA,KAAAZ,QAAA;YACAe,MAAA;YACAC,IAAA,EAAAJ,QAAA,CAAAzB,IAAA,CAAAiC,OAAA;YACAH,IAAA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}